{{ define "main" }}

{{ if .Params.toc }}
<aside>
    <div class="toc-container">
        <h2>📋 Contenidos</h2>
        {{ .TableOfContents }}
    </div>
</aside>
{{ end }}

<section>
    <div class="article-header">
        <h1>{{ .Title }}</h1>
        <div class="post-meta">
            <div class="metadata">👨🏿‍🚀
                <span class="author">
                    {{ $author := .Params.author }}
                    {{ if eq $author nil }}
                    {{ $author = .Site.Params.author }}
                    {{ end }}
                    {{ $author }}
                </span> · 📅 <time>{{ .Date.Format "Jan 02" }}</time> · ⏲️
                <span class="read-time">{{ .ReadingTime }} min</span>
            </div>
            <div class="tags">
                {{ range (.GetTerms "tags") }}
                <a href="{{ .RelPermalink }}">{{ partial "svg/hash.svg" . }}{{ .LinkTitle }}</a>
                {{ end }}
            </div>
        </div>
    </div>

    <div class="article-post">
        {{ .Content }}
    </div>

</section>

<section>
    {{ if .Section }}
    <nav class="suggested">
        {{ with .PrevInSection }}
        <a rel="prev" href="{{ .RelPermalink }}" title="Previous post (older)">
            <span>Anterior</span>
            {{ .Title }}
        </a>
        {{ end }}

        {{ with .NextInSection }}
        <a rel="next" href="{{ .RelPermalink }}" title="Next post (newer)">
            <span>Siguiente</span>
            {{ .Title }}
        </a>
        {{ end }}
    </nav>
    {{ end }}
</section>

{{ if .Site.Params.comments }}
<section>
    {{ partial "comments" . }}
</section>
{{ end }}

{{ if .Params.katex }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
{{ end }}

{{ end }}